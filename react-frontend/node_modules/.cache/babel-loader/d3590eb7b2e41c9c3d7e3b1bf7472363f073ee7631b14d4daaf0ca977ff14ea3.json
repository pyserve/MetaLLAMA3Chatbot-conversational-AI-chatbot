{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Weaver 15\\\\Documents\\\\Software_Tools\\\\MetaLLAMA3Chatbot-conversational-AI-chatbot\\\\react-frontend\\\\src\\\\contexts\\\\authContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nconst AuthContextProvider = ({\n  children\n}) => {\n  _s();\n  const [auth, setAuth] = useState(() => {\n    const storedAuth = localStorage.getItem('auth');\n    return storedAuth ? JSON.parse(storedAuth) : {\n      user: null\n    };\n  });\n  const [theme, setTheme] = useState(() => {\n    const storedTheme = localStorage.getItem('theme');\n    return storedTheme ? storedTheme : \"light\";\n  });\n  const [csrfToken, setCsrfToken] = useState(() => {\n    return localStorage.getItem('csrfToken');\n  });\n  useEffect(() => {\n    const fetchCSRF = async () => {\n      const resp = await fetch(\"http://127.0.0.1:8000/csrf/\", {\n        credentials: 'include'\n      });\n      const result = await resp.json();\n      setCsrfToken(result.csrfToken);\n      localStorage.setItem('csrfToken', result.csrfToken);\n    };\n    fetchCSRF();\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('auth', JSON.stringify(auth));\n  }, [auth]);\n  useEffect(() => {\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n  const loginUser = response => {\n    setAuth(response);\n    localStorage.setItem('auth', JSON.stringify(response));\n  };\n  const logoutUser = () => {\n    setAuth({\n      user: null\n    });\n    localStorage.removeItem('auth');\n  };\n  const toggleTheme = () => {\n    setTheme(theme => theme === \"light\" ? \"dark\" : \"light\");\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      auth,\n      loginUser,\n      logoutUser,\n      theme,\n      toggleTheme,\n      csrfToken\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthContextProvider, \"aCwnZ55AToFjeM63jwxBRdMTcCg=\");\n_c = AuthContextProvider;\nexport default AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","jsxDEV","_jsxDEV","AuthContext","AuthContextProvider","children","_s","auth","setAuth","storedAuth","localStorage","getItem","JSON","parse","user","theme","setTheme","storedTheme","csrfToken","setCsrfToken","fetchCSRF","resp","fetch","credentials","result","json","setItem","stringify","loginUser","response","logoutUser","removeItem","toggleTheme","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Weaver 15/Documents/Software_Tools/MetaLLAMA3Chatbot-conversational-AI-chatbot/react-frontend/src/contexts/authContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = ({children}) => {\r\n    const [auth, setAuth] = useState(() => {\r\n        const storedAuth = localStorage.getItem('auth');\r\n        return storedAuth ? JSON.parse(storedAuth) : { user: null };\r\n    });\r\n    const [theme, setTheme] = useState(() => {\r\n        const storedTheme = localStorage.getItem('theme');\r\n        return storedTheme ? storedTheme : \"light\";\r\n    });\r\n    const [csrfToken, setCsrfToken] = useState(() => {\r\n        return localStorage.getItem('csrfToken');\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchCSRF = async () => {\r\n            const resp = await fetch(\"http://127.0.0.1:8000/csrf/\", {\r\n                credentials: 'include'\r\n            });\r\n            const result = await resp.json();\r\n            setCsrfToken(result.csrfToken);\r\n            localStorage.setItem('csrfToken', result.csrfToken);\r\n        }\r\n        fetchCSRF();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('auth', JSON.stringify(auth));\r\n    }, [auth]);\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('theme', theme);\r\n    }, [theme]);\r\n\r\n    const loginUser = (response) => {\r\n        setAuth(response);\r\n        localStorage.setItem('auth', JSON.stringify(response));\r\n    }\r\n\r\n    const logoutUser = () => {\r\n        setAuth({ user: null });\r\n        localStorage.removeItem('auth');\r\n    }\r\n\r\n    const toggleTheme = () => {\r\n        setTheme(theme => theme === \"light\" ? \"dark\" : \"light\");\r\n    }\r\n\r\n    return(\r\n        <AuthContext.Provider value={{ auth, loginUser, logoutUser, theme, toggleTheme, csrfToken }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthContextProvider;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}